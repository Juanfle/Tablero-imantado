.grid {
  display: grid;
  gap: 0;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  overflow: hidden;
}

/* keep grid gaps controlled by internal cell/padding; removed extra column/row gaps to restore previous compact layout */

.layout {
  display: block;
  gap: 18px;
}


.leftTray {
  background: #fbfdff;
  border: 1px solid #eef2f7;
  border-radius: 0 8px 8px 0;
  padding: 12px;
  max-height: calc(100vh - var(--header-height, 64px));
  /* avoid horizontal scrollbars during drag; allow only vertical scroll */
  overflow-y: auto;
  overflow-x: hidden;
  /* prevent scroll chaining to page while interacting with the tray */
  overscroll-behavior: contain;
  /* on touch devices, allow vertical panning only to avoid horizontal jiggle while dragging */
  touch-action: pan-y;
  /* Subtle/transparent scrollbar by default; enhanced on hover */
  scrollbar-width: thin;                     /* Firefox */
  scrollbar-color: transparent transparent;  /* Firefox initial state */
  position: fixed;
  left: 0;
  top: var(--header-height, 64px); /* align under header (uses --header-height) */
  bottom: 0;
  width: var(--tray-width, 300px);
  z-index: 60;
  box-shadow: 0 6px 20px rgba(0,0,0,0.06);
  transform: translateX(0);
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), width 220ms ease;
}

/* On hover, show a subtle thumb color in Firefox */
.leftTray:hover {
  scrollbar-color: rgba(0,0,0,0.22) transparent;
}

/* WebKit-based browsers (Chrome/Edge/Safari) */
.leftTray::-webkit-scrollbar {
  width: 10px;
}
.leftTray::-webkit-scrollbar-track {
  background: transparent;
}
.leftTray::-webkit-scrollbar-thumb {
  background-color: transparent;    /* invisible by default */
  border-radius: 8px;               /* rounded to match tray */
  border: 3px solid transparent;    /* creates padding around the thumb */
  background-clip: padding-box;     /* keep the inner color rounded */
}
.leftTray:hover::-webkit-scrollbar-thumb {
  background-color: rgba(0,0,0,0.22); /* appear only on hover */
}
.leftTray::-webkit-scrollbar-thumb:active {
  background-color: rgba(0,0,0,0.32);
}
.leftTray::-webkit-scrollbar-corner { background: transparent; }

.leftTrayCollapsed {
  transform: translateX(-100%);
}


.appRoot {
  height: calc(100vh - var(--header-height, 64px));
  display: block;
  /* prevent page-level horizontal scrollbar appearing during drags */
  overflow-x: hidden;
}

.layout { height: 100%; }

.leftTray { transition: transform 220ms ease; }

/* When dragging from the tray, freeze its scroll to avoid content shifting */
.trayDragging {
  overflow-y: hidden !important;
  touch-action: none !important;
}

.trayToggle {
  background: transparent;
  border: 1px solid transparent;
  padding: 6px;
  border-radius: 6px;
}

.mainShifted {
  /* keep layout width stable; we'll translate the boards container instead */
  transition: margin-left 220ms ease;
}

.mainCentered {
  margin-left: 0 !important;
  margin-right: 0;
  /* center children horizontally */
  display: flex;
  justify-content: center;
  transition: margin 220ms ease;
}

.boardsContainer {
  /* use the available viewport width but cap at --boards-max-width; always
     keep 2x edge margins when the tray is closed */
  width: min(var(--boards-max-width, 800px), calc(100vw - calc(var(--board-edge-margin, 2px) * 2)));
  max-width: var(--boards-max-width, 800px);
  margin: 12px auto; /* center when tray is closed */
  transition: margin 220ms cubic-bezier(.2,.9,.2,1), width 220ms ease;
}

.mainShifted .boardsContainer {
  width: calc(100vw - var(--tray-width, 300px) - 80px - calc(var(--board-edge-margin, 2px) * 2));
  margin-left: calc(var(--tray-width, 300px) + 46px + var(--board-edge-margin, 2px));
  margin-right: var(--boards-max-width, 2px);
}

/* ensure centered appearance when tray closed */
.mainCentered .boardsContainer {
  transform: none;
}

/* small top offset so boards sit visibly below header */
.boardsContainer { padding-top: var(--board-edge-margin, 24px); padding-right: var(--board-edge-margin, 24px); }

.searchInput {
  width: 100%;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #e6eef7;
}

.trayGroup {
  margin-bottom: 14px;
}

.trayGroupTitle {
  font-weight: 700;
  margin: 6px 0 8px;
  color: #111827;
}

.trayList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.rightContent {
  min-width: 0; /* allow content to shrink inside grid */
}

/* Tray header with inline close icon */
.trayHeader {
  display: flex;
  align-items: center; /* esto ya estÃ¡ perfecto */
  gap: 8px;
}

.trayHeader input,
.trayHeader button {
  line-height: 1;
  vertical-align: middle;
}

/* Close button inside tray: SVG-only, no background */
.trayClose {
  background: transparent;
  border: none;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #374151;
  line-height: 1;
  vertical-align: middle;
}
.trayClose:hover { background: transparent; }

/* External handle when tray is closed: fixed at left edge, SVG-only */
.trayHandle {
  position: fixed;
  left: 10px;
  top: calc(var(--header-height, 64px) + 16px); /* place near the top, below header */
  transform: none;
  z-index: 130;
  background: transparent;
  border: none;
  padding: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #374151;
  line-height: 1;
  vertical-align: middle;
}

.headerCell {
  background: #f9fafb;
  padding: 10px;
  font-weight: 600;
  text-align: center;
}

.bandejaSection {
  margin-bottom: 16px;
}

.bandejaTitle {
  margin: 10px 0;
}

.bandejaList {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.title {
  margin-bottom: 10px;
}

.celda {
  min-height: 86px; /* igual que CELL_HEIGHT en TSX */
  border: 1px solid #e5e7eb;
  padding: 8px;
  position: relative;
  overflow: hidden;
  display: flex;
  align-items: center;
  background: #fff;
}

.celdaHover {
  background: #fef3c7;
}

.rowContents {
  display: contents;
}

.rowHeader {
  background: #f9fafb;
  padding: 6px 8px;
  font-weight: 500;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  /* make the first column visually narrower */
  white-space: nowrap;
}

.celdaLabel {
  position: absolute;
  right: 6px;
  bottom: 4px;
  font-size: 10px;
  color: #9ca3af;
}

.removeBtn {
  position: absolute;
  top: 6px;
  right: 6px;
  width: 18px;
  height: 18px;
  border: none;
  background: transparent;
  color: #9ca3af;
  font-size: 14px;
  font-weight: 700;
  line-height: 14px;
  cursor: pointer;
  padding: 0;
}

.message {
  background: #fee2e2;
  color: #b91c1c;
  padding: 8px 10px;
  border-radius: 8px;
  margin-bottom: 10px;
}

.dragOverlay {
  z-index: 99999;
  pointer-events: none;
}

.modal {
  background: #fff;
  border-radius: 10px;
  max-width: 92%;
  box-shadow: 0 12px 48px rgba(0,0,0,0.5);
}

.createBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.45);
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* visual separator for comedor - non-droppable decorative row */
.separator {
  grid-column: 1 / -1;
  font-size: 10px;
  color: #000000;
  font-weight: 700;
  text-align: left;
  padding: 6px 10px;
  letter-spacing: 0.6px;
}

/* Print helpers */
.noPrint {
  display: inline-block;
}

.exportBtn {
  background: #2563eb;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}
.exportBtn:hover { filter: brightness(0.95); }

.printArea {
  display: none; /* visible only in print */
  /* default row height for print rows (can be overridden via CSS variable) */
  --print-row-height: 26mm;
}

@media print {
  /* hide everything inside the app root except the printArea to avoid duplicates/blank pages */
  .appRoot > *:not(.printArea) { display: none !important; }
  .printArea { display: block !important; }

  /* remove margins/padding on the print container to avoid accidental extra page */
  .printArea { margin: 0 !important; padding: 0 !important; overflow: hidden !important; }
  /* each page contains one year's table sized for A4 landscape
     Use zero page margins to avoid browser-added margins creating overflow
     and force page-break-after to avoid double-pages. */
  @page { size: A4 landscape; margin: 0; }
  .printArea { width: 297mm; box-sizing: border-box; }
  .printPage {
    width: 297mm;
    box-sizing: border-box;
    padding: 8mm;
    overflow: hidden;
    break-inside: avoid;
    page-break-after: always;
  }
  /* last page must not force an extra blank page after it */
  .printPage:last-child { page-break-after: auto; }

  /* plain B/W table styling, fixed layout */
  .printTable { width: 100%; border-collapse: collapse; font-size: 18px; color: #000; table-layout: fixed; height: calc(100% - 32mm); }
  .printTable thead th, .printTable tbody td { border: 1px solid #000; padding: 4px; }
  .printHeader { text-align: center; font-size: 26px; font-weight: 700; margin-bottom: 6px; }
  .printBloc { width: 160px; font-weight: 700; }

  /* use a configurable row height (var --print-row-height). Adjusting this
     lets you quickly tune printed row heights without changing layout code. */
  .printTable tbody tr { height: var(--print-row-height); }

  /* center content in cells both vertically and horizontally and stack subject/teacher */
  .printTable td { text-align: center; vertical-align: middle; }
  .printCellInner { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
  .printSubject { font-weight: 700; font-size: 15px; }
  .printTeacher { font-size: 12px; margin-top: 3px; }

  /* remove backgrounds in print */
  .iman { background: transparent !important; box-shadow: none !important; }
}
